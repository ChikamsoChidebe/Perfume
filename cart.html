<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart - Amazing Aura Perfumes</title>
    <meta name="description" content="Review your selected fragrances and proceed to order via WhatsApp.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/cart.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="index.html" class="brand-logo">
                    <i class="fas fa-gem"></i>
                    <span>AMAZING AURA</span>
                </a>
            </div>
            
            <div class="nav-menu" id="navMenu">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="shop.html" class="nav-link">Collections</a>
                    </li>
                    <li class="nav-item">
                        <a href="about.html" class="nav-link">About</a>
                    </li>
                    <li class="nav-item">
                        <a href="contact.html" class="nav-link">Contact</a>
                    </li>
                </ul>
            </div>
            
            <div class="nav-actions">
                <button class="search-btn" id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
                <a href="cart.html" class="cart-btn active" id="cartBtn">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="cart-count">0</span>
                </a>
                <button class="menu-toggle" id="menuToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Cart Content -->
    <section class="cart-section">
        <div class="container">
            <div class="cart-header">
                <h1>Shopping Cart</h1>
                <div class="breadcrumb">
                    <a href="index.html">Home</a>
                    <i class="fas fa-chevron-right"></i>
                    <span>Cart</span>
                </div>
            </div>

            <div class="cart-content" id="cartPageContent">
                <div class="empty-cart">
                    <i class="fas fa-shopping-bag"></i>
                    <h2>Your cart is empty</h2>
                    <p>Discover our amazing collection of luxury fragrances</p>
                    <a href="shop.html" class="btn btn-primary">Start Shopping</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section brand-section">
                    <div class="footer-brand">
                        <a href="index.html" class="brand-logo">
                            <i class="fas fa-gem"></i>
                            <span>AMAZING AURA</span>
                        </a>
                    </div>
                    <p class="footer-description">
                        Crafting amazing aura fragrances that define your unique essence.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-title">Collections</h4>
                    <ul class="footer-links">
                        <li><a href="shop.html?filter=signature">Signature Series</a></li>
                        <li><a href="shop.html?filter=limited">Limited Edition</a></li>
                        <li><a href="shop.html?filter=classic">Classic Collection</a></li>
                        <li><a href="shop.html?filter=fresh">Fresh Collection</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-title">Customer Care</h4>
                    <ul class="footer-links">
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="#shipping">Shipping Info</a></li>
                        <li><a href="#returns">Returns</a></li>
                        <li><a href="#faq">FAQ</a></li>
                    </ul>
                </div>
                
                <div class="footer-section contact-section">
                    <h4 class="footer-title">Contact</h4>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>+234 706 804 5006</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>amazingperfume.ng@gmail.com</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-bottom-content">
                    <p class="copyright">&copy; 2024 Amazing Aura Perfumes. All rights reserved.</p>
                    <div class="footer-legal">
                        <a href="#privacy">Privacy Policy</a>
                        <a href="#terms">Terms of Service</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="assets/js/database.js"></script>
    <script src="assets/js/cart.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        // Cart page specific functionality
        class CartPage {
            constructor() {
                this.init();
            }

            init() {
                this.loadCartItems();
                this.bindEvents();
            }

            loadCartItems() {
                const cartContent = document.getElementById('cartPageContent');
                const cart = JSON.parse(localStorage.getItem('amazingaura_cart') || '[]');

                if (cart.length === 0) {
                    cartContent.innerHTML = `
                        <div class="empty-cart">
                            <i class="fas fa-shopping-bag"></i>
                            <h2>Your cart is empty</h2>
                            <p>Discover our amazing collection of luxury fragrances</p>
                            <a href="shop.html" class="btn btn-primary">Start Shopping</a>
                        </div>
                    `;
                } else {
                    const cartItems = cart.map(item => `
                        <div class="cart-item">
                            <div class="item-image">
                                <img src="${item.image}" alt="${item.name}">
                            </div>
                            <div class="item-details">
                                <h3>${item.name}</h3>
                                <p class="item-size">Size: ${item.size}</p>
                                <div class="quantity-controls">
                                    <button class="qty-btn minus" data-id="${item.id}" data-size="${item.size}">-</button>
                                    <span class="quantity">${item.quantity}</span>
                                    <button class="qty-btn plus" data-id="${item.id}" data-size="${item.size}">+</button>
                                </div>
                            </div>
                            <div class="item-actions">
                                <button class="remove-item" data-id="${item.id}" data-size="${item.size}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    `).join('');

                    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);

                    cartContent.innerHTML = `
                        <div class="cart-items">
                            ${cartItems}
                        </div>
                        <div class="cart-summary">
                            <div class="summary-details">
                                <h3>Order Summary</h3>
                                <div class="summary-line">
                                    <span>Items (${totalItems}):</span>
                                    <span>Contact for Price</span>
                                </div>
                                <div class="summary-line">
                                    <span>Delivery:</span>
                                    <span>Available in Nigeria</span>
                                </div>
                                <div class="whatsapp-info">
                                    <p><i class="fab fa-whatsapp"></i> Order via WhatsApp for instant response</p>
                                </div>
                            </div>
                            <div class="checkout-actions">
                                <button class="btn btn-primary whatsapp-checkout" id="whatsappCheckout">
                                    <i class="fab fa-whatsapp"></i>
                                    <span>Order via WhatsApp</span>
                                </button>
                                <a href="shop.html" class="btn btn-outline">Continue Shopping</a>
                            </div>
                        </div>
                    `;
                }
            }

            bindEvents() {
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.qty-btn.plus')) {
                        const btn = e.target.closest('.qty-btn.plus');
                        this.updateQuantity(btn.dataset.id, btn.dataset.size, 1);
                    }
                    
                    if (e.target.closest('.qty-btn.minus')) {
                        const btn = e.target.closest('.qty-btn.minus');
                        this.updateQuantity(btn.dataset.id, btn.dataset.size, -1);
                    }
                    
                    if (e.target.closest('.remove-item')) {
                        const btn = e.target.closest('.remove-item');
                        this.removeItem(btn.dataset.id, btn.dataset.size);
                    }
                    
                    if (e.target.closest('#whatsappCheckout')) {
                        this.proceedToWhatsApp();
                    }
                });
            }

            updateQuantity(productId, size, change) {
                let cart = JSON.parse(localStorage.getItem('amazingaura_cart') || '[]');
                const itemIndex = cart.findIndex(item => item.id === productId && item.size === size);
                
                if (itemIndex > -1) {
                    cart[itemIndex].quantity += change;
                    if (cart[itemIndex].quantity <= 0) {
                        cart.splice(itemIndex, 1);
                    }
                    localStorage.setItem('amazingaura_cart', JSON.stringify(cart));
                    this.loadCartItems();
                    window.cartSystem.updateCartCount();
                }
            }

            removeItem(productId, size) {
                let cart = JSON.parse(localStorage.getItem('amazingaura_cart') || '[]');
                cart = cart.filter(item => !(item.id === productId && item.size === size));
                localStorage.setItem('amazingaura_cart', JSON.stringify(cart));
                this.loadCartItems();
                window.cartSystem.updateCartCount();
            }

            proceedToWhatsApp() {
                const cart = JSON.parse(localStorage.getItem('amazingaura_cart') || '[]');
                if (cart.length === 0) return;

                const phoneNumber = '2347068045006';
                let message = 'Hello Amazing Aura Perfumes! ðŸŒŸ\\n\\nI am interested in ordering these beautiful fragrances:\\n\\n';
                
                cart.forEach((item, index) => {
                    message += `${index + 1}. *${item.name}* (Size: ${item.size})\\n   Quantity: ${item.quantity} bottle(s)\\n\\n`;
                });
                
                message += 'Could you please provide:\\n';
                message += 'â€¢ Total price for these items\\n';
                message += 'â€¢ Current availability\\n';
                message += 'â€¢ Delivery options to my location\\n\\n';
                message += 'Thank you! Looking forward to your response. ðŸ˜Š';
                
                const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            }
        }

        // Initialize cart page
        document.addEventListener('DOMContentLoaded', () => {
            new CartPage();
        });
    </script>
</body>
</html>